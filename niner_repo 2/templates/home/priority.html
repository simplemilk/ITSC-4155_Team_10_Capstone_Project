{% extends "base.html" %}

{% block title %}Financial Priorities - Niner Finance{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/priority.css') }}">
{% endblock %}

{% block content %}
<div class="priority-container">
    <div class="priority-header">
        <h1>Set Your Financial Priorities</h1>
        <p class="subtitle">Tell us what matters most to you, and we'll provide personalized recommendations</p>
    </div>

    <!-- Priority Selection Form -->
    <div class="priority-selection">
        <h2>Choose Your Primary Focus</h2>
        <div id="priorityCards" class="priority-cards"></div>
    </div>

    <!-- Current Priorities -->
    <div class="current-priorities" id="currentPriorities" style="display: none;">
        <h2>Your Active Priorities</h2>
        <div id="activePrioritiesList"></div>
    </div>

    <!-- Personalized Suggestions -->
    <div class="suggestions-section" id="suggestionsSection" style="display: none;">
        <h2>Personalized Recommendations</h2>
        <div id="suggestionsList"></div>
    </div>

    <!-- Priority Detail Modal -->
    <div id="priorityModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalTitle"></h2>
            <form id="priorityDetailForm">
                <input type="hidden" id="selectedPriority" name="priority">
                
                <div class="form-group">
                    <label for="importanceLevel">Importance Level:</label>
                    <div class="importance-slider">
                        <input type="range" id="importanceLevel" name="importance_level" 
                               min="1" max="5" value="3">
                        <div class="importance-labels">
                            <span>Low</span>
                            <span>Medium</span>
                            <span>High</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="targetAmount">Target Amount (optional):</label>
                    <input type="number" id="targetAmount" name="target_amount" 
                           placeholder="$0.00" step="0.01" min="0">
                </div>

                <div class="form-group">
                    <label for="targetDate">Target Date (optional):</label>
                    <input type="date" id="targetDate" name="target_date">
                </div>

                <div class="form-group">
                    <label for="notes">Notes:</label>
                    <textarea id="notes" name="notes" rows="4" 
                              placeholder="Add any specific goals or notes..."></textarea>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal()">Cancel</button>
                    <button type="submit" class="btn-primary">Save Priority</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/priority.js') }}"></script>
{% endblock %}
